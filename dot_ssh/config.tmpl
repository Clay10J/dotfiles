{{ if .sshAgent }}
# SSH Configuration
# This file is managed by chezmoi
# Only rendered on hosts with sshAgent = true (client workstations)

# Global settings with 1Password SSH agent
Host *
    ServerAliveInterval 60
    ServerAliveCountMax 3
    AddKeysToAgent yes
    # IdentitiesOnly yes  # Removed: conflicts with 1Password SSH agent - prevents agent from offering keys
    IdentityAgent ~/.1password/agent.sock

# GitHub
Host github.com
    HostName github.com
    User git
    # IdentitiesOnly yes  # Removed: conflicts with 1Password SSH agent

# GitLab (uncomment if you use GitLab)
# Host gitlab.com
#     HostName gitlab.com
#     User git

# Pi-hole server
Host piholeio
    HostName {{ .servers.piholeio.sshHostName }}
    User {{ .servers.piholeio.sshUser }}
    # IdentitiesOnly yes  # Removed: conflicts with 1Password SSH agent

# Unraid server
Host unraider
    HostName {{ .servers.unraider.sshHostName }}
    User {{ .servers.unraider.sshUser }}
    # IdentitiesOnly yes  # Removed: conflicts with 1Password SSH agent

# Development servers (uncomment and customize as needed)
# Host dev-*
#     # IdentitiesOnly yes  # Removed: conflicts with 1Password SSH agent

# Production servers (uncomment and customize as needed)
# Host prod-*
#     ServerAliveInterval 30
#     ServerAliveCountMax 6
#     # IdentitiesOnly yes  # Removed: conflicts with 1Password SSH agent

# Local development (uncomment if you SSH to localhost)
# Host localhost
{{ end }} 